{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 800,
  "height": 500,
  "title": {
    "text": "Worldwide GDP data in 2020",
    "fontSize": 20,
    "dy":490
  },
  "projection": {"type": "equalEarth"},
  "layer":[
    {
  "data": {
    "url": "map.topojson",
    "format": {
      "type": "topojson",
      "feature": "ne_110m_admin_0_countries"
    }
  },
  "transform": [
    {
      "lookup": "properties.ADM0_A3",
      "from": {
        "data": {
          "url": "gdp_per_capita.csv"
        },
        "key": "Code",
        "fields": ["2020"]
      }
    }
  ],
  "mark": {
    "type": "geoshape",
    "fill": "lightgray",
    "stroke": "gray"
  },
  "encoding": {
    "fill": {
      "field": "2020",
      "type": "quantitative",
      "scale": {
          "type": "threshold",
          "domain": [1000,3000,10000,20000,45000],
          "scheme": "greens"
            }
    },
      "tooltip": [
        {
          "field": "properties.ADMIN",
          "type": "nominal",
          "title":"Country"
        },
        {
          "field": "2020",
          "type": "quantitative",
          "title": "GDP per capita",
          "format":".2f"
        }
      ]
  }

},
{
  "data": {
    "url": "https://raw.githubusercontent.com/FIT3179/Vega-Lite/main/7_others/oceans.topojson",
    "format": {
      "type": "topojson",
      "feature": "oceans"
    }
  },
  "mark": {
    "type": "geoshape",
    "fill": "skyblue"
  }
},
{
  "data": {
    "url": "ne_110m_graticules_30.json",
    "format": {
      "type": "topojson",
      "feature": "ne_110m_graticules_30"
    }
  },
  "mark": {
    "type": "geoshape",
    "fill": null,
    "stroke": "lightgray"
  }
}
]
}
